<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SoCal vs NorCal ‚Äî acko</title>
  <link rel="icon" type="image/png" href="/favicon.png">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&family=Fraunces:wght@900&family=Libre+Baskerville:wght@700&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="/styles/tokens.css">
  <link rel="stylesheet" href="/styles/base.css">
  <link rel="stylesheet" href="/styles/utilities.css">
  <link rel="stylesheet" href="/styles/components.css">

  

  <style>
    .site-footer { margin-top: calc(var(--space-9) + var(--space-5)); padding: var(--space-4) 0; border-top: 2px solid #000; }
    .footer-nav { display: flex; gap: var(--space-4); flex-wrap: wrap; align-items: center; }
  </style>

  
</head>
<body>
  
  <header class="site-head">
  <div class="container site-head__inner">
    <a class="brand" href="/">acko<img src="/favicon.png" alt="" width="32" height="32" style="margin-left: 12px; vertical-align: -5%; display: inline;"></a>
    <nav class="nav cluster">
      <a href="/blog">Blog</a>
      <a href="/games">Games</a>
    </nav>
  </div>
</header>


  

  
  <div style="padding-bottom: var(--space-9);">
    <main class="container flow">
  <div class="card card--hard flow">
  <h1>SoCal vs NorCal Quiz</h1>
  <a href="../" class="button">üè† Home</a>
</div>

<div class="card card--hard flow">
  <h2>Test Your California Knowledge</h2>
  <p>Think you know the difference between Southern and Northern California? Let's find out.</p>
  
  <div style="margin: var(--space-5) 0;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-3);">
      <div id="pcounter" style="font-weight: 700; font-size: var(--size-2);"></div>
      <div id="score" style="font-weight: 700; font-size: var(--size-2);"></div>
    </div>
    <div class="quiz-progress" style="height: 8px; background: var(--line); border: 2px solid #000; margin-bottom: var(--space-4);" role="progressbar" aria-valuemin="0" aria-valuemax="100">
      <div id="pbar" style="height: 100%; background: var(--color-secondary); width: 0%; transition: width 0.3s ease;"></div>
    </div>
  </div>

  <div id="stage" style="min-height: 200px;"></div>

  <div style="display: flex; gap: var(--space-3); margin-top: var(--space-5);">
    <button id="backBtn" class="button" style="flex: 1;">‚Üê Back</button>
    <button id="nextBtn" class="button" style="flex: 1;">Next ‚Üí</button>
    <button id="clearBtn" class="button">Restart</button>
  </div>

  <div id="results" style="display: none; margin-top: var(--space-6);">
    <div class="callout callout--info flow">
      <h2>Your Results</h2>
      <p id="summary"></p>
    </div>
    <div id="list" style="display: flex; flex-direction: column; gap: var(--space-3); margin-top: var(--space-4);"></div>
    <small class="muted mt-6" style="display: block;">Sources planned per item. Disagree? Tap restart and try again with a friend.</small>
  </div>
</div>

<style>
  .qtext {
    font-size: var(--size-4);
    font-weight: 700;
    margin-bottom: var(--space-5);
    font-family: var(--font-serif);
  }

  .choice-buttons {
    display: flex;
    gap: var(--space-4);
    flex-wrap: wrap;
  }

  .choice-btn {
    flex: 1;
    min-width: 200px;
    padding: var(--space-4) var(--space-5);
    border: 2px solid #000;
    background: var(--bg);
    font-family: var(--font-mono);
    font-weight: 700;
    font-size: var(--size-2);
    cursor: pointer;
    transition: all 0.2s;
  }

  .choice-btn:hover:not(:disabled) {
    background: var(--color-secondary);
    color: #fff;
  }

  .choice-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .feedback {
    margin-top: var(--space-5);
    padding: var(--space-4);
    border: 2px solid #000;
    font-weight: 600;
  }

  .feedback.good {
    background: var(--color-success-bg);
    border-color: var(--color-success);
  }

  .feedback.bad {
    background: var(--color-error-bg);
    border-color: var(--color-error);
  }

  .result-item {
    padding: var(--space-4);
    border: 2px solid #000;
    background: var(--bg);
    margin-bottom: var(--space-3);
  }
</style>

<script>
const BANK = [
  { q: "Which region has more wildfires per year (incidents, not acreage)?", answer: "SoCal", source: "" },
  { q: "Which region has more farmland acreage (with Kern & SLO counted as SoCal)?", answer: "SoCal", source: "" },
  { q: "Which region has higher electricity bills per household on average?", answer: "SoCal", source: "" },
  { q: "Which region gets more annual sunshine hours in key population centers?", answer: "NorCal", source: "" },
  { q: "Which region has more breweries per capita?", answer: "SoCal", source: "" },
  { q: "Which region has more installed renewable energy capacity (solar/wind/storage)?", answer: "SoCal", source: "" },
  { q: "Which region has the higher violent crime rate on average?", answer: "NorCal", source: "" },
  { q: "Which region uses more water per capita?", answer: "NorCal", source: "" },
  { q: "Which region has more electric vehicles registered in total?", answer: "SoCal", source: "" },
  { q: "Which region has higher voter turnout in recent statewide elections?", answer: "SoCal", source: "" },
  { q: "Which region has more active Airbnb listings?", answer: "NorCal", source: "" },
  { q: "Which region has a higher share of renters vs homeowners?", answer: "SoCal", source: "" },
  { q: "Which region recorded more earthquakes of magnitude ‚â• 4 in the past decade?", answer: "NorCal", source: "" },
  { q: "Which region has a higher adult obesity rate overall?", answer: "SoCal", source: "" },
  { q: "Which region has more registered Teslas in total?", answer: "SoCal", source: "" },
];

function rngInt(n){
  if (window.crypto?.getRandomValues){
    const a = new Uint32Array(1); crypto.getRandomValues(a);
    return a[0] % n;
  }
  return Math.floor(Math.random()*n);
}
function shuffle(arr){
  for (let i=arr.length-1;i>0;i--){
    const j = rngInt(i+1);
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

let QUESTIONS = shuffle([...BANK]);
let idx = 0;
let score = 0;
const guesses = new Array(QUESTIONS.length).fill(null);
const correctness = new Array(QUESTIONS.length).fill(null);

const stage = document.getElementById('stage');
const pbar = document.getElementById('pbar');
const pcounter = document.getElementById('pcounter');
const scoreEl = document.getElementById('score');
const backBtn = document.getElementById('backBtn');
const nextBtn = document.getElementById('nextBtn');
const clearBtn = document.getElementById('clearBtn');
const resultsEl = document.getElementById('results');
const summaryEl = document.getElementById('summary');
const listEl = document.getElementById('list');

function render(){
  const total = QUESTIONS.length;
  const human = idx + 1;
  pbar.style.width = ((human-1)/total*100) + '%';
  document.querySelector('.quiz-progress').setAttribute('aria-valuenow', human-1);
  pcounter.textContent = `Question ${human} of ${total}`;
  scoreEl.textContent = `Score: ${score}`;

  const item = QUESTIONS[idx];

  stage.innerHTML = '';
  const qtext = document.createElement('div');
  qtext.className = 'qtext';
  qtext.textContent = `${human}. ${item.q}`;
  stage.appendChild(qtext);

  const btns = document.createElement('div');
  btns.className = 'choice-buttons';
  const btnSo = document.createElement('button');
  btnSo.className = 'choice-btn';
  btnSo.textContent = 'Southern California';
  const btnNo = document.createElement('button');
  btnNo.className = 'choice-btn';
  btnNo.textContent = 'Northern California';
  btns.appendChild(btnSo); btns.appendChild(btnNo);
  stage.appendChild(btns);

  const fb = document.createElement('div');
  fb.className = 'feedback';
  fb.style.display = 'none';
  stage.appendChild(fb);

  if (guesses[idx]){
    btnSo.disabled = true; btnNo.disabled = true;
    nextBtn.disabled = false;
    const correct = correctness[idx];
    fb.style.display = 'block';
    fb.className = 'feedback ' + (correct ? 'good' : 'bad');
    fb.innerHTML = correct ? `‚úÖ Correct: <strong>${item.answer}</strong>` :
                             `‚ùå Nope ‚Äî Correct is <strong>${item.answer}</strong>`;
    if (item.source){
      const s = document.createElement('div');
      s.style.marginTop = '6px'; s.style.color = 'var(--muted)';
      s.innerHTML = `Source: <a href="${item.source}" target="_blank" rel="noopener">link</a>`;
      fb.appendChild(s);
    }
  } else {
    nextBtn.disabled = true;
  }

  function lockIn(choice){
    if (guesses[idx]) return;
    guesses[idx] = choice;
    const correct = (choice === item.answer);
    correctness[idx] = correct;
    if (correct) score++;

    btnSo.disabled = true; btnNo.disabled = true;
    nextBtn.disabled = false;
    fb.style.display = 'block';
    fb.className = 'feedback ' + (correct ? 'good' : 'bad');
    fb.innerHTML = correct ? `‚úÖ Correct: <strong>${item.answer}</strong>` :
                             `‚ùå Nope ‚Äî Correct is <strong>${item.answer}</strong>`;
    if (item.source){
      const s = document.createElement('div');
      s.style.marginTop = '6px'; s.style.color = 'var(--muted)';
      s.innerHTML = `Source: <a href="${item.source}" target="_blank" rel="noopener">link</a>`;
      fb.appendChild(s);
    }
  }

  btnSo.addEventListener('click', ()=> lockIn('SoCal'));
  btnNo.addEventListener('click', ()=> lockIn('NorCal'));

  backBtn.disabled = idx === 0;
  nextBtn.textContent = (idx === total-1) ? 'See Results' : 'Next';

  resultsEl.style.display = 'none';
}
render();

backBtn.addEventListener('click', ()=>{
  if (idx>0){ idx--; render(); }
});
nextBtn.addEventListener('click', ()=>{
  if (guesses[idx] == null) return;
  if (idx < QUESTIONS.length-1){
    idx++; render();
  } else {
    showResults();
  }
});
clearBtn.addEventListener('click', ()=>{
  QUESTIONS = shuffle([...BANK]);
  idx = 0; score = 0;
  guesses.fill(null); correctness.fill(null);
  render();
});

function showResults(){
  pbar.style.width = '100%';
  document.querySelector('.quiz-progress').setAttribute('aria-valuenow', QUESTIONS.length);
  const total = QUESTIONS.length;
  document.getElementById('summary').textContent = `You got ${score} out of ${total} correct.`;

  listEl.innerHTML = '';
  QUESTIONS.forEach((item, i)=>{
    const row = document.createElement('div');
    row.className = 'result-item';

    const head = document.createElement('div');
    head.style.fontWeight = '600';
    head.innerHTML = `${i+1}. ${item.q}`;

    const det = document.createElement('div');
    det.className = correctness[i] === true ? 'text-success' : (correctness[i] === false ? 'text-error' : 'muted');
    det.style.marginTop = 'var(--space-2)';
    det.style.fontWeight = '600';
    const got = guesses[i] ?? 'No guess';
    const ok = correctness[i] === true ? '‚úÖ' : (correctness[i] === false ? '‚ùå' : '‚Äî');
    det.innerHTML = `${ok} You: <strong>${got}</strong> ¬∑ Correct: <strong>${item.answer}</strong>` + (item.source ? ` ¬∑ <a href="${item.source}" target="_blank" rel="noopener">Source</a>` : '');

    row.appendChild(head); row.appendChild(det);
    listEl.appendChild(row);
  });

  resultsEl.style.display = 'block';
  resultsEl.scrollIntoView({behavior:'smooth', block:'start'});
}

document.addEventListener('keydown', (e)=>{
  if (e.key==='ArrowLeft' && !backBtn.disabled) backBtn.click();
  if (e.key==='ArrowRight' && !nextBtn.disabled) nextBtn.click();
});
</script>
</main>


  </div>
  

  <footer class="site-footer">
  <div class="container footer-nav">
    <a href="/" class="button">Home</a>
    
  </div>
</footer>




  <script src="/scripts/nav.js" defer></script>
</body>
</html>

